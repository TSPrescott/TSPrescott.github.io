document.getElementById("hideLatLng").addEventListener("click",function(){document.getElementById("coordinates").classList.toggle("hidden")}); function getSkycon(c,d){function e(c,b){switch(c){case "clear-day":a.add(document.getElementById(b),Skycons.CLEAR_DAY);break;case "clear-night":a.add(document.getElementById(b),Skycons.CLEAR_NIGHT);break;case "rain":a.add(document.getElementById(b),Skycons.RAIN);break;case "snow":a.add(document.getElementById(b),Skycons.SNOW);break;case "sleet":a.add(document.getElementById(b),Skycons.SLEET);break;case "wind":a.add(document.getElementById(b),Skycons.WIND);break;case "fog":a.add(document.getElementById(b), Skycons.FOG);break;case "cloudy":a.add(document.getElementById(b),Skycons.CLOUDY);break;case "partly-cloudy-day":a.add(document.getElementById(b),Skycons.PARTLY_CLOUDY_DAY);break;case "partly-cloudy-night":a.add(document.getElementById(b),Skycons.PARTLY_CLOUDY_NIGHT)}}var a=new Skycons({color:"white"});e(c,"icon1");e(d,"icon2");a.play()} function getWeather(c,d){var e=new XMLHttpRequest;e.open("GET","https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/f7e6f8e97fded3a9c72156c14940b157/"+c+","+d);e.send();e.onreadystatechange=function(){if(200===this.status&&4===this.readyState){var a=JSON.parse(this.responseText);document.getElementById("currentForecast").innerHTML=a.currently.summary;document.getElementById("futureForecast").innerHTML=a.daily.summary;document.getElementById("forecast").classList.remove("hidden"); console.log("Request complete.");getSkycon(a.currently.icon,a.daily.icon)}}}function insertGoogleScript(){var c=document.createElement("script");c.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAbUQloGO_Ix-VAHDhN7I_cTk1zWspTUQA&callback=initGoogleAPI&libraries=places,geometry";document.body.appendChild(c)} function initGoogleAPI(){var c=document.getElementById("citySearch"),d=new google.maps.places.Autocomplete(c);d.addListener("place_changed",function(){var c=d.getPlace(),a=new XMLHttpRequest;a.open("GET","https://maps.googleapis.com/maps/api/geocode/json?address="+c.formatted_address+"&key=AIzaSyAbUQloGO_Ix-VAHDhN7I_cTk1zWspTUQA",!0);a.send();a.onreadystatechange=function(){if(200===this.status&&4===this.readyState){var a=JSON.parse(this.responseText),b=a.results[0].geometry.location.lat;a=a.results[0].geometry.location.lng; document.getElementById("latitude").innerHTML=b;document.getElementById("longitude").innerHTML=a;console.log("Request complete.");getWeather(b,a)}}})}insertGoogleScript(); 
